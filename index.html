<!DOCTYPE html>
<!-- saved from url=(0042)https://ztown.krutoiskilet.xyz/loadingurl/ -->
<html lang="en" data-darkreader-proxy-injected="true"><script src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/content/location/location.js" id="eppiocemhmnlbhjplcgkofciiegomcon"></script><script src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/libs/extend-native-history-api.js"></script><script src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/libs/requests.js"></script><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>ZTOWN Loading Screen</title>
<style>
    body {
        margin: 0;
        padding: 0;
        background-color: #000;
        color: #fff;
        font-family: 'Courier New', monospace;
        overflow: hidden;
        filter: grayscale(100%);
        height: 100vh;
        width: 100vw;
    }

    #container {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        width: 80%;
        z-index: 10;
    }

    #logo {
        width: min(30vw, 400px);
        height: auto;
        margin-bottom: 25px;
        animation: flicker 0.5s infinite alternate;
    }

    #servername {
        font-size: 2.2em;
        margin-bottom: 10px;
        color: #fff;
        text-shadow: 0 0 6px rgba(255,255,255,0.6);
        animation: glitch 1s infinite;
    }

    #status {
        font-size: 1.3em;
        margin-bottom: 15px;
        color: #ccc;
        animation: pulse 2.5s infinite;
    }

    #progress-bar {
        width: 100%;
        background-color: #222;
        border: 1px solid #aaa;
        height: 24px;
        margin-bottom: 10px;
        overflow: hidden;
        border-radius: 5px;
    }

    #progress {
        width: 0%;
        height: 100%;
        background-color: #fff;
        transition: width 0.4s ease;
        animation: glitch-bar 0.3s infinite alternate;
    }

    #details {
        font-size: 1em;
        color: #888;
        margin-top: 10px;
    }

    .thought {
        position: absolute;
        color: rgba(255, 255, 255, 0.75);
        font-size: 1em;
        pointer-events: none;
        animation: fade-move 6s ease-in-out forwards;
        z-index: 1;
        text-shadow: 0 0 6px rgba(255,255,255,0.4);
        white-space: nowrap;
    }

    /* ---- АНИМАЦИИ ---- */
    @keyframes flicker {
        0% { opacity: 1; }
        100% { opacity: 0.8; }
    }

    @keyframes glitch {
        0% { transform: translate(0); }
        20% { transform: translate(-2px, 1px); }
        40% { transform: translate(2px, -1px); }
        60% { transform: translate(-1px, 1px); }
        80% { transform: translate(1px, -1px); }
        100% { transform: translate(0); }
    }

    @keyframes glitch-bar {
        0% { transform: skew(0deg); }
        100% { transform: skew(5deg); }
    }

    @keyframes pulse {
        0%, 100% { transform: scale(1); opacity: 0.9; }
        50% { transform: scale(1.05); opacity: 1; }
    }

    @keyframes fade-move {
        0% { opacity: 0; transform: translateY(0); }
        20% { opacity: 0.8; }
        80% { opacity: 0.8; transform: translateY(-30px); }
        100% { opacity: 0; transform: translateY(-50px); }
    }
</style>
<script bis_use="true" type="text/javascript" charset="utf-8" data-bis-config="[&quot;facebook.com/&quot;,&quot;twitter.com/&quot;,&quot;youtube-nocookie.com/embed/&quot;,&quot;//vk.com/&quot;,&quot;//www.vk.com/&quot;,&quot;linkedin.com/&quot;,&quot;//www.linkedin.com/&quot;,&quot;//instagram.com/&quot;,&quot;//www.instagram.com/&quot;,&quot;//www.google.com/recaptcha/api2/&quot;,&quot;//hangouts.google.com/webchat/&quot;,&quot;//www.google.com/calendar/&quot;,&quot;//www.google.com/maps/embed&quot;,&quot;spotify.com/&quot;,&quot;soundcloud.com/&quot;,&quot;//player.vimeo.com/&quot;,&quot;//disqus.com/&quot;,&quot;//tgwidget.com/&quot;,&quot;//js.driftt.com/&quot;,&quot;friends2follow.com&quot;,&quot;/widget&quot;,&quot;login&quot;,&quot;//video.bigmir.net/&quot;,&quot;blogger.com&quot;,&quot;//smartlock.google.com/&quot;,&quot;//keep.google.com/&quot;,&quot;/web.tolstoycomments.com/&quot;,&quot;moz-extension://&quot;,&quot;chrome-extension://&quot;,&quot;/auth/&quot;,&quot;//analytics.google.com/&quot;,&quot;adclarity.com&quot;,&quot;paddle.com/checkout&quot;,&quot;hcaptcha.com&quot;,&quot;recaptcha.net&quot;,&quot;2captcha.com&quot;,&quot;accounts.google.com&quot;,&quot;www.google.com/shopping/customerreviews&quot;,&quot;buy.tinypass.com&quot;,&quot;gstatic.com&quot;,&quot;secureir.ebaystatic.com&quot;,&quot;docs.google.com&quot;,&quot;contacts.google.com&quot;,&quot;github.com&quot;,&quot;mail.google.com&quot;,&quot;chat.google.com&quot;,&quot;audio.xpleer.com&quot;,&quot;keepa.com&quot;,&quot;static.xx.fbcdn.net&quot;,&quot;sas.selleramp.com&quot;,&quot;1plus1.video&quot;,&quot;console.googletagservices.com&quot;,&quot;//lnkd.demdex.net/&quot;,&quot;//radar.cedexis.com/&quot;,&quot;//li.protechts.net/&quot;,&quot;challenges.cloudflare.com/&quot;,&quot;ogs.google.com&quot;]" src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/executors/traffic.js"></script></head>
<body __processed_9630b184-1589-4dc9-aa05-5acf1fc9dc20__="true" bis_register="W3sibWFzdGVyIjp0cnVlLCJleHRlbnNpb25JZCI6ImVwcGlvY2VtaG1ubGJoanBsY2drb2ZjaWllZ29tY29uIiwiYWRibG9ja2VyU3RhdHVzIjp7IkRJU1BMQVkiOiJkaXNhYmxlZCIsIkZBQ0VCT09LIjoiZGlzYWJsZWQiLCJUV0lUVEVSIjoiZGlzYWJsZWQiLCJSRURESVQiOiJkaXNhYmxlZCIsIlBJTlRFUkVTVCI6ImRpc2FibGVkIiwiSU5TVEFHUkFNIjoiZGlzYWJsZWQiLCJUSUtUT0siOiJkaXNhYmxlZCIsIkxJTktFRElOIjoiZGlzYWJsZWQiLCJDT05GSUciOiJkaXNhYmxlZCJ9LCJ2ZXJzaW9uIjoiMi4wLjM1Iiwic2NvcmUiOjIwMDM1fV0=">
    <div id="container" bis_skin_checked="1">
        <img id="logo" src="./img/image.png" alt="ZTOWN Logo">
        <div id="servername" bis_skin_checked="1">ZTOWN</div>
        <div id="status" bis_skin_checked="1">Loading map: %mapname%</div>
        <div id="progress-bar" bis_skin_checked="1">
            <div id="progress" bis_skin_checked="1"></div>
        </div>
        <div id="details" bis_skin_checked="1">Waiting for Garry's Mod...</div>
    </div>

    <script>
        /* ============ МЫСЛИ ============ */
        const thoughts = [
            "I can’t feel my hands...",
            "Why is it so quiet?",
            "Something’s watching me.",
            "Please, not again...",
            "My head hurts...",
            "Don’t blink.",
            "There’s blood on my hands.",
            "Please, make it stop.",
            "Did someone just whisper?",
            "Keep calm... keep calm...",
            "SadSalat IRL gay porn video is realy bothering..",
            "I wish I didn't do that...",
            "Why won’t it end?",
            "No... not again.",
            "I’m still alive... right?",
            "This isn’t real. It can’t be."
        ];

        function spawnThought() {
            const text = thoughts[Math.floor(Math.random() * thoughts.length)];
            const div = document.createElement('div');
            div.classList.add('thought');
            div.textContent = text;
            div.style.left = `${Math.random() * window.innerWidth * 0.9}px`;
            div.style.top = `${Math.random() * window.innerHeight * 0.9}px`;
            document.body.appendChild(div);
            setTimeout(() => div.remove(), 6000);
        }

        // Очень частые мысли (каждые 0.3–0.8 сек)
        setInterval(spawnThought, Math.random() * 500 + 300);

        /* ============ GARRY'S MOD ИНТЕГРАЦИЯ ============ */
        let totalFiles = 0, neededFiles = 0, leftFiles = 0;
        let totalWS = 0, leftWS = 0;
        let finished = false;
        let val = 0;

        const progress = document.getElementById("progress");
        const status = document.getElementById("status");
        const details = document.getElementById("details");
        const servername = document.getElementById("servername");

        function clamp(num){ return Math.min(Math.max(num, 0), 1); }

        function updateProgress() {
            let left = finished ? 0 :
                clamp(leftFiles / (totalFiles || 1)) * 0.3 +
                clamp(leftWS / (totalWS || 1)) * 0.6;
            val = 1 - left;
            progress.style.width = (val * 100).toFixed(1) + "%";
        }

        // --- Эти функции вызываются GMod во время загрузки ---
        function SetStatusChanged(str) {
            status.innerText = str;
            if (str === "Sending client info...") {
                finished = true;
                status.innerText = "Joining the nightmare...";
            }
            updateProgress();
        }

        function SetFilesTotal(num) {
            totalFiles = num;
            leftFiles = num;
            updateProgress();
        }

        function DownloadingFile(name) {
            leftFiles--;
            details.innerText = "Downloading: " + name;
            updateProgress();
        }

        function SetFilesNeeded(num) {
            totalWS = num;
            leftWS = num;
            updateProgress();
        }

        // GMod заменяет %mapname% и %servername% в URL загрузочного экрана
        // можно извлечь их для отображения:
        const params = new URLSearchParams(window.location.search);
        const map = params.get("mapname") || "%mapname%";
        const name = params.get("servername") || "ZTOWN";
        servername.innerText = name || "ZTOWN Server";
        status.innerText = "Loading map: " + map;
    </script>


<div class="thought" bis_skin_checked="1" style="left: 1487.39px; top: 82.8015px;">I’m still alive... right?</div><div class="thought" bis_skin_checked="1" style="left: 1675.72px; top: 349.998px;">No... not again.</div><div class="thought" bis_skin_checked="1" style="left: 1050.51px; top: 856.302px;">There’s blood on my hands.</div><div class="thought" bis_skin_checked="1" style="left: 1375.98px; top: 385.463px;">Please, make it stop.</div><div class="thought" bis_skin_checked="1" style="left: 235.009px; top: 652.617px;">This isn’t real. It can’t be.</div><div class="thought" bis_skin_checked="1" style="left: 1677.74px; top: 432.506px;">Why is it so quiet?</div><div class="thought" bis_skin_checked="1" style="left: 15.7074px; top: 801.122px;">Keep calm... keep calm...</div><div class="thought" style="left: 995.636px; top: 657.593px;">I wish I didn't do that...</div><div class="thought" style="left: 696.579px; top: 505.17px;">SadSalat IRL gay porn video is realy bothering..</div></body></html>
